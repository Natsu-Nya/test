<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <title>pipeline_chart_volume_frame</title>
    <link rel="stylesheet" type="text/css" href="../css/api.css" />
    <style type="text/css">
    html,
    body {
        height: 100%;
    }

    header {
        width: 100%;
        height: 44px;
        line-height: 44px;
    }

    .btn {
        width: 60px;
        height: 24px;
        line-height: 24px;
        text-align: center;
        font-size: 12px;
        color: rgba(36, 193, 116, 1);
        background: rgba(255, 255, 255, 1);
        border: 1px solid rgba(36, 193, 116, 1);
        border-radius: 5px;
        margin-right: 20px;
        margin-top: 10px;
    }
    </style>
</head>

<body class="flex-box-v">
    <header id="header clearfix">
        <div class="btn pull-right" tapmode="highlight" onclick="exitFullScreen();">退出全屏</div>
    </header>
    <div id="main" class="flex-1"></div>
    <footer id="footer"></footer>
</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/highcharts.js"></script>
<script type="text/javascript" src="../script/underscore-min.js"></script>
<script type="text/javascript" src="../script/moment.min.js"></script>
<script type="text/javascript" src="../script/templates.js"></script>
<script type="text/javascript" src="../script/charts.js"></script>
<script type="text/javascript">
function exitFullScreen() {
    api.setScreenOrientation({
        orientation: 'portrait_up'
    });
    api.closeFrame();
}

apiready = function() {
    var header = $api.dom('header');
    var footer = $api.dom('footer');

    var headerH = $api.fixStatusBar(header);
    var footerH = $api.fixTabBar(footer);

    var chart = new app.Charts.PipelineVolume('main');
    var dateMode = api.pageParam.dateMode;

    if (dateMode == 0) {
        chart.load30Day({ data: api.pageParam.data });
    } else if (dateMode == 1) {
        chart.loadMonth({ data: api.pageParam.data });
    } else if (dateMode == 2) {
        chart.loadDay({ data: api.pageParam.data });
    }
};
</script>

</html>